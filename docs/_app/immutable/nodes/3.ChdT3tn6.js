import{d as ce,c as ue,a as k,f as _,s as V}from"../chunks/oT73mWol.js";import{o as S}from"../chunks/_ICE6kzW.js";import{W as fe,X as pe,Z as W,_ as ve,s as m,Y as I,g as f,$ as O,a0 as d,a1 as l,a2 as X}from"../chunks/BzWMXrxS.js";import{i as T}from"../chunks/NH8dSfTi.js";import{e as ge,i as me}from"../chunks/BZqcmlr7.js";import{H as Z,j as be,h as K,s as we}from"../chunks/Dy38jDth.js";import{t as j,s as ke,f as Q}from"../chunks/DWX6bhWj.js";import{h as Oe}from"../chunks/BVdbqa2Z.js";import{b as B}from"../chunks/BvpGdvai.js";import"../chunks/DLbaFFm5.js";var xe=_('<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/a11y-dark.min.css" class="svelte-19hdok6"/>'),ye=_('<div id="loadingContainer" class="svelte-19hdok6"><h4 class="svelte-19hdok6"><span class="material-symbols-outlined svelte-19hdok6">progress_activity</span></h4></div>'),_e=_('<h3 class="svelte-19hdok6"><button id="repoButton" class="svelte-19hdok6"><span translate="no" title="View GitHub Repository" class="material-symbols-outlined svelte-19hdok6">data_object</span></button></h3>'),Me=_('<div class="svelte-19hdok6"><h4 class="svelte-19hdok6"><code class="svelte-19hdok6"> </code></h4></div>'),Ie=_('<div><h3 class="svelte-19hdok6"> </h3> <!> <h5 class="svelte-19hdok6"><!></h5></div>'),Ae=_('<h1 style="user-select: none;" class="svelte-19hdok6">SCANNER</h1> <h3 style="margin-top: 10px; margin-bottom: 50px" class="svelte-19hdok6"><button id="returnButton" class="svelte-19hdok6">Return</button></h3> <!> <!> <table class="svelte-19hdok6"><tbody class="svelte-19hdok6"><tr id="generalDisplay" class="svelte-19hdok6"><td id="codeDisplay" class="svelte-19hdok6"><div class="svelte-19hdok6"><h4 class="svelte-19hdok6"><pre class="svelte-19hdok6"><code class="svelte-19hdok6"><!></code></pre></h4></div></td><td id="logsDisplay" class="svelte-19hdok6"></td></tr></tbody></table>',1);function $e(ee,te){fe(te,!0);let C=I(!0),$=I(!1),A=I(""),o=pe([]);Z.registerLanguage("java",be),S(()=>{m(C,!0);let p=sessionStorage.getItem("scanThis");p==null&&(window.location.href=B+"/scan/import"),m(A,p,!0),m(A,Z.highlight(f(A),{language:"java"}).value,!0),ie(p)});let F=I("");S(()=>{sessionStorage.getItem("returnPortal")!=null&&m(F,sessionStorage.getItem("returnPortal"),!0)}),S(()=>{setTimeout(()=>{m($,!0)},100)});function se(){sessionStorage.getItem("returnPortal")!=null?window.location.href=B+"/view/"+sessionStorage.getItem("returnPortal"):window.location.href=B+"/"}function ie(p){let t=p.split(`
`);for(let e=0;e<t.length;e++)t[e]=t[e].trim();t=t.filter(e=>e!=""),t=t.filter(e=>e.substring(0,2)!="//"&&e.substring(0,2)!="/*"),o.push([!1,"Processing...","Analyzing script",""]);let b="",v=[],c=[],w=0,x="",r=!0;for(let e=0;e<t.length;e++)t[e].indexOf("@TeleOp")>=0?(b="teleop",r=!1,o.pop(),o.push([!1,"TeleOp","Based on this line, this should be a script for TeleOp mode. TeleOp is the 2 minute period where controllers are used by 2 players to operate the robot.",t[e]]),t[e].toLowerCase().indexOf("auto")>=0&&o.push([!0,"Script Name","Is this script supposed to be TeleOp? If so, consider renaming the script to not include misleading naming. If this should be Autonomous, you need to fix this line to replace @TeleOp with @Autonomous",t[e]])):t[e].indexOf("@Autonomous")>=0&&(b="auto",r=!1,o.pop(),o.push([!1,"Autonomous","Based on this line, this should be a script for Autonomous mode. Autonomous is the 30 second period where robots complete tasks using pre-written code instructions, and no human interference is allowed.",t[e]]),(t[e].toLowerCase().indexOf("teleop")>=0||t[e].toLowerCase().indexOf("acompt")>=0)&&o.push([!0,"Script Name","Is this script supposed to be Autonomous? If so, consider renaming the script to not include misleading naming. If this should be TeleOp, you need to fix this line to replace @Autonomous with @TeleOp",t[e]]));if(r)return o.push([!0,"No OpMode Declared","No OpMode detected. Is this Autonomous or is this TeleOp? The script must have an @TeleOp or an @Autonomous"]),0;r=!0;for(let e=0;e<t.length;e++)if(t[e].indexOf("@Override")==0){if(o.push([0,"Override Tag","All code that forms the base of the instruction needs to be inside the runOpMode() function. Since we are overwriting the contents of this function from the super class, it is good practice to include an @Override statement right before.",t[e]]),r=!1,t[e+1].indexOf("public void runOpMode() {")==0)break;o.push([1,"runOpMode Function Missing","After the @Override statement, you need to encapsulate all code that forms the base of the code instruction inside a method that overwrites void runOpMode().",t[e]])}r&&o.push([1,"No Override Statement","All code that forms the base of the instruction needs to be inside the runOpMode() function. Since we are overwriting the contents of this function from the super class, it is good practice to include an @Override statement right before.",""]),r=!0;for(let e=0;e<t.length;e++)if(t[e].indexOf("public class")>=0){r=!1,t[e].indexOf("extends LinearOpMode")<0?o.push([!0,"Does not extend LinearOpMode","This class does not extend LinearOpMode. Fix the line above.",t[e]]):o.push([0,"Extend LinearOpMode","The main public class that comprises the script must extend LinearOpMode, which we import at the start.",t[e]]);break}if(r&&o.push([!0,"No Class Declaration","Class is not declared; the above statement, which should encapsulate non-declarative code, is missing.","public class <script-name> extends LinearOpMode {<code>}"]),b=="auto"){r=!0;for(let e=0;e<t.length;e++)if(t[e].trim().indexOf("waitForStart()")==0){r=!1,w=e,x=t[e];break}if(r)o.push([1,"waitForStart Function Missing","You do not have a waitForStart() function to pause between initialization and the start of the round. This is critical to have.",""]);else{r=!0;for(let e=w;e<t.length;e++)if(t[e].trim().indexOf("if")>=0&&t[e].trim().indexOf("opModeIsActive()")>=0){r=!1;break}r&&o.push([1,"Active Code Failsafe Not Present","After checking for the start button being pressed, all further non-declarative code should be encapsulated in a failsafe conditional-statement that checks the function opModeIsActive().",x])}}if(b=="teleop"){r=!0;for(let e=0;e<t.length;e++)if(t[e].trim().indexOf("waitForStart()")==0){r=!1,w=e,x=t[e];break}if(r)o.push([1,"waitForStart Function Missing","You do not have a waitForStart() function to pause between initialization and the start of TeleOp. This is critical to have.",""]);else{r=!0;for(let e=w;e<t.length;e++)if(t[e].trim().indexOf("while")>=0&&t[e].trim().indexOf("opModeIsActive()")>=0){r=!1;break}r&&o.push([1,"Code Looping Not Present","After checking for the start button being pressed, all game controller actions are only processed for a fraction of a second. The code that follows needs to be encapsulated in a while-loop that checks the function opModeIsActive(). <br><br>*Ignore this if you are calibrating after waitForStart().",x])}}r=!0;for(let e=0;e<t.length;e++)if(t[e].indexOf("import com.qualcomm.robotcore.hardware.")==0){let s=t[e].substring(39);s=s.substring(0,s.length-1),v.push(s)}else if(t[e].indexOf("public class")==0){let s="";for(let a in v)s+=v[a]+", ";s=s.trim(),s=s.substring(0,s.length-1),o.push([0,"Hardware Classes","Based on scanning, these are all hardware types in use. If this list is missing a hardware type, you have not imported the type. If one of these types is not in use, consider removing the import statement to clean up your code.",s]);break}for(let e=0;e<t.length;e++)if(t[e].indexOf("private")==0){let s=t[e].substring(7).trim();s=s.substring(0,s.length-1);let a="",n="";for(let i=0;i<s.length&&s[i]!=" ";i++)a+=s[i];if(v.indexOf(a)>=0)if(n.indexOf("(")<0&&n.indexOf(")")<0){if(n="",s.indexOf("//")<0&&s.indexOf("/*")<0)n=s.substring(a.length).trim();else for(let i=a.length;i<s.length;i++)if(s.substring(i,i+1)!=";")n+=s.substring(i,i+1);else{n=n.trim();break}c.push([n,a,0])}else o.push([0,"Function that returns a Hardware Device","Is this a function that returns a hardware device, or is this line trying to declare a hardware device? Based on scanning, this is currently a function declaration.",t[e]]);else["String","int","double","boolean","void","ElapsedTime"].indexOf(a)<0&&o.push([1,"Undetermined Hardware Type","Scanner is unable to find the hardware type used to declare this device. If this is a device, make sure that the type is imported at the start of the script.",t[e]])}o.push([0,"Hardware Devices",`Based on scanning, this script uses a total of ${c.length} hardware devices.`,""]);for(let e in v){let s=v[e],a=0;for(let n in c)s==c[n][1]&&a++;a==0&&o.push([1,"Unused Hardware Class",`${s} hardware class is imported; however, no hardware devices use this class. If you don't plan to eventually use this class, remove its import statement.`,s])}for(let e=0;e<t.length;e++)if(t[e].indexOf("hardwareMap.get(")>0){let s="",a="",n="";for(let h=0;h<t[e].length&&t[e].substring(h,h+2)!=" =";h++)a+=t[e].substring(h,h+1);let i;for(i=0;i<t[e].length&&!(s.indexOf("hardwareMap.get(")>0);i++)s+=t[e].substring(i,i+1);for(i;i<t[e].length&&t[e].substring(i,i+1)!=".";i++)n+=t[e].substring(i,i+1);let M=!0;for(let h=0;h<c.length;h++)if(c[h][0]==a&&c[h][1]==n){c[h][2]=1,M=!1;break}M&&o.push([1,"Hardware Device Mapped but not Declared",`${n} ${a} is mapped using the hardwareMap.get() function; however, it has not been declared as a private variable outside the runOpMode() function`,a])}for(let e=0;e<c.length;e++){let s=c[e];s[2]||o.push([1,"Hardware Device Not Mapped",`${s[1]} ${s[0]} is declared; however, it is not mapped to a port using the hardwareMap.get() function.`,s[0]])}o.push([0,"Finished","Scanning is now finished; there should be no further critical errors. If you are running into further issues, consult other sources or use debugging strategies to solve your issue!",""]),m(C,!1)}let L=I(!1);S(()=>{document.addEventListener("scroll",()=>{scrollY>50?m(L,!0):m(L,!1)})});var P=ue();Oe("19hdok6",p=>{var t=xe();k(p,t)});var oe=W(P);{var re=p=>{var t=Ae(),b=W(t),v=O(b,2),c=d(v);c.__click=se,l(v);var w=O(v,2);{var x=g=>{var u=ye();j(3,u,()=>Q),k(g,u)};T(w,g=>{f(C)&&g(x)})}var r=O(w,2);{var e=g=>{var u=_e(),y=d(u);y.__click=()=>{window.location.href=`https://github.com/bearbots-bhs/${f(F)}`},l(u),k(g,u)};T(r,g=>{f(F)!=""&&!f(L)&&g(e)})}var s=O(r,2),a=d(s),n=d(a),i=d(n),M=d(i),h=d(M),E=d(h),R=d(E),ae=d(R);K(ae,()=>f(A)),l(R),l(E),l(h),l(M),l(i);var Y=O(i);ge(Y,21,()=>o,me,(g,u)=>{var y=Ie();let z;var D=d(y),ne=d(D,!0);l(D);var U=O(D,2);{var le=N=>{var H=Me(),G=d(H),J=d(G),he=d(J,!0);l(J),l(G),l(H),X(()=>V(he,f(u)[3])),k(N,H)};T(U,N=>{f(u)[3].length!=0&&N(le)})}var q=O(U,2),de=d(q);K(de,()=>f(u)[2]),l(q),l(y),X(()=>{z=we(y,1,"svelte-19hdok6",null,z,{fail:f(u)[0]}),V(ne,f(u)[1])}),k(g,y)}),l(Y),l(n),l(a),l(s),j(3,b,()=>ke),j(3,v,()=>Q,()=>({delay:100})),k(p,t)};T(oe,p=>{f($)&&p(re)})}k(ee,P),ve()}ce(["click"]);export{$e as component};
